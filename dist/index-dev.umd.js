!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReactWindow={},e.React)}(this,(function(e,t){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||o(r)&&o(i)))return!1;var r,i;return!0}function s(e,t){var n;void 0===t&&(t=a);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}}var l="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function c(e){cancelAnimationFrame(e.id)}var u=function(e,t){return e};function f(e){var o,a,f=e.getItemOffset,d=(e.getEstimatedTotalSize,e.getItemSize),p=e.getOffsetForIndexAndAlignment,m=e.getStartIndexForOffset,v=e.getStopIndexForStartIndex,y=e.initInstanceProps,S=e.shouldResetStyleCacheOnItemSizeChange,I=e.validateProps;return a=o=function(e){var o,a;function g(t){var n;(n=e.call(this,t)||this)._instanceProps=y(n.props,r(n)),n._containerRef=void 0,n._clearStyleCacheTimeoutID=null,n.state={instance:r(n),scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=s((function(e,t,r,i){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:i})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,r=n.props,i=r.itemSize,o=r.layout,a=n._getItemStyleCache(S&&i,S&&o);if(a.hasOwnProperty(e))t=a[e];else{var s=f(n.props,e,n._instanceProps),l=d(n.props,e,n._instanceProps),c="horizontal"===o,u=c?"translate3d("+s+"px, 0px, 0px)":"translate3d(0px, "+s+"px, 0px)";a[e]=t={transform:u,height:c?0:l,width:c?l:0,willChange:"transform",transition:"none"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=s((function(e,t,n){return{}})),n._containerRefSetter=function(e){var t=n.props.containerRef;n._containerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._clearStyleCache=function(){n._clearStyleCacheTimeoutID=null,n._getItemStyleCache(-1,null)};var i=t.initialScrollOffset,o="number"==typeof i?i:0;return n.state={instance:r(n),scrollDirection:"forward",scrollOffset:o,scrollUpdateWasRequested:"number"==typeof i},n}a=e,(o=g).prototype=Object.create(a.prototype),o.prototype.constructor=o,i(o,a),g.getDerivedStateFromProps=function(e,t){return h(e,t),I(e),null};var x=g.prototype;return x.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},x.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,r=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(p(this.props,e,t,r,this._instanceProps))},x.componentDidMount=function(){this._commitHook()},x.componentDidUpdate=function(){this._commitHook()},x.componentWillUnmount=function(){null!==this._clearStyleCacheTimeoutID&&c(this._clearStyleCacheTimeoutID)},x.render=function(){var e=this.props,r=e.children,i=e.className,o=e.containerElementType,a=e.itemCount,s=e.itemData,l=e.itemKey,c=void 0===l?u:l,f=e.style,h=this._getRangeToRender(),d=h[0],p=h[1],m=h[2],v=h[3],y=[];if(a>0)for(var S=d;S<=p;S++){var I=S<m||S>v;y.push(t.createElement(r,{data:s,hidden:I,index:S,key:c(S,s),style:this._getItemStyle(S)}))}return t.createElement(o||"div",{className:i,children:y,ref:this._containerRefSetter,style:n({position:"relative",willChange:"transform",contain:"layout",pointerEvents:"none"},f)})},x._commitHook=function(){var e=this.props,t=e.layout,n=e.itemCount,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._containerRef){var o=this._containerRef;o.style.transform="horizontal"===t?"translate3d(-"+i+"px, 0px, 0px)":"translate3d(0px, -"+i+"px, 0px)"}n>0&&this._callPropsCallbacks(),this._clearStyleCacheDebounced()},x._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}},x._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state.scrollOffset;if(0===t)return[0,0,0,0];var i=m(this.props,r,this._instanceProps),o=v(this.props,i,r,this._instanceProps);return[Math.max(0,i-n),Math.max(0,Math.min(t-1,o+n)),i,o]},x._clearStyleCacheDebounced=function(){var e,t,n,r;null!==this._clearStyleCacheTimeoutID&&c(this._clearStyleCacheTimeoutID),this._clearStyleCacheTimeoutID=(e=this._clearStyleCache,t=100,n=l(),r={id:requestAnimationFrame((function i(){l()-n>=t?e.call(null):r.id=requestAnimationFrame(i)}))})},g}(t.PureComponent),o.defaultProps={itemData:void 0,layout:"vertical",overscanCount:5},a}var h=function(e,t){var n=e.children,r=e.height,i=e.layout,o=e.width,a=(t.instance,"horizontal"===i);switch(i){case"horizontal":case"vertical":break;default:throw Error('An invalid "layout" prop has been specified. Value should be either "horizontal" or "vertical". "'+i+'" was specified.')}if(null==n)throw Error('An invalid "children" prop has been specified. Value should be a React component. "'+(null===n?"null":typeof n)+'" was specified.');if(a&&"number"!=typeof o)throw Error('An invalid "width" prop has been specified. Horizontal lists must specify a number for width. "'+(null===o?"null":typeof o)+'" was specified.');if(!a&&"number"!=typeof r)throw Error('An invalid "height" prop has been specified. Vertical lists must specify a number for height. "'+(null===r?"null":typeof r)+'" was specified.')},d=function(e,t,n){var r=e.itemSize,i=n.itemMetadataMap,o=n.lastMeasuredIndex;if(t>o){var a=0;if(o>=0){var s=i[o];a=s.offset+s.size}for(var l=o+1;l<=t;l++){var c=r(l);i[l]={offset:a,size:c},a+=c}n.lastMeasuredIndex=t}return i[t]},p=function(e,t,n,r,i){for(;r<=n;){var o=r+Math.floor((n-r)/2),a=d(e,o,t).offset;if(a===i)return o;a<i?r=o+1:a>i&&(n=o-1)}return r>0?r-1:0},m=function(e,t,n,r){for(var i=e.itemCount,o=1;n<i&&d(e,n,t).offset<r;)n+=o,o*=2;return p(e,t,Math.min(n,i-1),Math.floor(n/2),r)},v=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,i=t.estimatedItemSize,o=t.lastMeasuredIndex,a=0;if(o>=n&&(o=n-1),o>=0){var s=r[o];a=s.offset+s.size}return a+(n-o-1)*i},y=f({getItemOffset:function(e,t,n){return d(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:v,getOffsetForIndexAndAlignment:function(e,t,n,r,i){var o=e.height,a=e.layout,s=e.width,l="horizontal"===a?s:o,c=d(e,t,i),u=v(e,i),f=Math.max(0,Math.min(u-l,c.offset)),h=Math.max(0,c.offset-l+c.size);switch("smart"===n&&(n=r>=h-l&&r<=f+l?"auto":"center"),n){case"start":return f;case"end":return h;case"center":return Math.round(h+(f-h)/2);case"auto":default:return r>=h&&r<=f?r:r<h?h:f}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,i=t.lastMeasuredIndex;return(i>0?r[i].offset:0)>=n?p(e,t,i,0,n):m(e,t,Math.max(0,i),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var i=e.height,o=e.itemCount,a=e.layout,s=e.width,l="horizontal"===a?s:i,c=d(e,t,r),u=n+l,f=c.offset+c.size,h=t;h<o-1&&f<u;)h++,f+=d(e,h,r).size;return h},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){var t=e.itemSize;if("function"!=typeof t)throw Error('An invalid "itemSize" prop has been specified. Value should be a function. "'+(null===t?"null":typeof t)+'" was specified.')}}),S=f({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,n,r){e.direction;var i=e.height,o=e.itemCount,a=e.itemSize,s=e.layout,l=e.width,c="horizontal"===s?l:i,u=Math.max(0,o*a-c),f=Math.min(u,t*a),h=Math.max(0,t*a-c+a);switch("smart"===n&&(n=r>=h-c&&r<=f+c?"auto":"center"),n){case"start":return f;case"end":return h;case"center":var d=Math.round(h+(f-h)/2);return d<Math.ceil(c/2)?0:d>u+Math.floor(c/2)?u:d;case"auto":default:return r>=h&&r<=f?r:r<h?h:f}},getStartIndexForOffset:function(e,t){var n=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,n){e.direction;var r=e.height,i=e.itemCount,o=e.itemSize,a=e.layout,s=e.width,l=t*o,c="horizontal"===a?s:r,u=Math.ceil((c+n-l)/o);return Math.max(0,Math.min(i-1,t+u-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){var t=e.itemSize;if("number"!=typeof t)throw Error('An invalid "itemSize" prop has been specified. Value should be a number. "'+(null===t?"null":typeof t)+'" was specified.')}});function I(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function g(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}var x=["style"],_=["style"];function M(e,t){var n=e.style,r=I(e,x),i=t.style,o=I(t,_);return!g(n,i)&&!g(r,o)}e.FixedSizeList=S,e.VariableSizeList=y,e.areEqual=M,e.shouldComponentUpdate=function(e,t){return!M(this.props,e)||g(this.state,t)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index-dev.umd.js.map
