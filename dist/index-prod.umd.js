!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((t=t||self).ReactWindow={},t.React)}(this,(function(t,e){"use strict";function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var i=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function a(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(r=t[n],o=e[n],!(r===o||i(r)&&i(o)))return!1;var r,o;return!0}function s(t,e){var n;void 0===e&&(e=a);var r,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&n===this&&e(a,o)||(r=t.apply(this,a),i=!0,n=this,o=a),r}}var c="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function l(t){cancelAnimationFrame(t.id)}var u=function(t,e){return t};function f(t){var i,a,f=t.getItemOffset,d=(t.getEstimatedTotalSize,t.getItemSize),m=t.getOffsetForIndexAndAlignment,p=t.getStartIndexForOffset,v=t.getStopIndexForStartIndex,y=t.initInstanceProps,S=t.shouldResetStyleCacheOnItemSizeChange,I=t.validateProps;return a=i=function(t){var i,a;function g(e){var n;(n=t.call(this,e)||this)._instanceProps=y(n.props,r(n)),n._containerRef=void 0,n._clearStyleCacheTimeoutID=null,n.state={instance:r(n),scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=s((function(t,e,r,o){return n.props.onItemsRendered({overscanStartIndex:t,overscanStopIndex:e,visibleStartIndex:r,visibleStopIndex:o})})),n._getItemStyle=void 0,n._getItemStyle=function(t){var e,r=n.props,o=r.itemSize,i=r.layout,a=n._getItemStyleCache(S&&o,S&&i);if(a.hasOwnProperty(t))e=a[t];else{var s=f(n.props,t,n._instanceProps),c=d(n.props,t,n._instanceProps),l="horizontal"===i,u=l?"translate3d("+s+"px, 0px, 0px)":"translate3d(0px, "+s+"px, 0px)";a[t]=e={transform:u,height:l?0:c,width:l?c:0,willChange:"transform",transition:"none"}}return e},n._getItemStyleCache=void 0,n._getItemStyleCache=s((function(t,e,n){return{}})),n._containerRefSetter=function(t){var e=n.props.containerRef;n._containerRef=t,"function"==typeof e?e(t):null!=e&&"object"==typeof e&&e.hasOwnProperty("current")&&(e.current=t)},n._clearStyleCache=function(){n._clearStyleCacheTimeoutID=null,n._getItemStyleCache(-1,null)};var o=e.initialScrollOffset,i="number"==typeof o?o:0;return n.state={instance:r(n),scrollDirection:"forward",scrollOffset:i,scrollUpdateWasRequested:"number"==typeof o},n}a=t,(i=g).prototype=Object.create(a.prototype),i.prototype.constructor=i,o(i,a),g.getDerivedStateFromProps=function(t,e){return h(t,e),I(t),null};var x=g.prototype;return x.scrollTo=function(t){t=Math.max(0,t),this.setState((function(e){return e.scrollOffset===t?null:{scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},x.scrollToItem=function(t,e){void 0===e&&(e="auto");var n=this.props.itemCount,r=this.state.scrollOffset;t=Math.max(0,Math.min(t,n-1)),this.scrollTo(m(this.props,t,e,r,this._instanceProps))},x.componentDidMount=function(){this._commitHook()},x.componentDidUpdate=function(){this._commitHook()},x.componentWillUnmount=function(){null!==this._clearStyleCacheTimeoutID&&l(this._clearStyleCacheTimeoutID)},x.render=function(){var t=this.props,r=t.children,o=t.className,i=t.containerElementType,a=t.itemCount,s=t.itemData,c=t.itemKey,l=void 0===c?u:c,f=t.style,h=this._getRangeToRender(),d=h[0],m=h[1],p=h[2],v=h[3],y=[];if(a>0)for(var S=d;S<=m;S++){var I=S<p||S>v;y.push(e.createElement(r,{data:s,hidden:I,index:S,key:l(S,s),style:this._getItemStyle(S)}))}return e.createElement(i||"div",{className:o,children:y,ref:this._containerRefSetter,style:n({position:"relative",willChange:"transform",contain:"layout",pointerEvents:"none"},f)})},x._commitHook=function(){var t=this.props,e=t.layout,n=t.itemCount,r=this.state,o=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._containerRef){var i=this._containerRef;i.style.transform="horizontal"===e?"translate3d(-"+o+"px, 0px, 0px)":"translate3d(0px, -"+o+"px, 0px)"}n>0&&this._callPropsCallbacks(),this._clearStyleCacheDebounced()},x._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var t=this._getRangeToRender(),e=t[0],n=t[1],r=t[2],o=t[3];this._callOnItemsRendered(e,n,r,o)}},x._getRangeToRender=function(){var t=this.props,e=t.itemCount,n=t.overscanCount,r=this.state.scrollOffset;if(0===e)return[0,0,0,0];var o=p(this.props,r,this._instanceProps),i=v(this.props,o,r,this._instanceProps);return[Math.max(0,o-n),Math.max(0,Math.min(e-1,i+n)),o,i]},x._clearStyleCacheDebounced=function(){var t,e,n,r;null!==this._clearStyleCacheTimeoutID&&l(this._clearStyleCacheTimeoutID),this._clearStyleCacheTimeoutID=(t=this._clearStyleCache,e=100,n=c(),r={id:requestAnimationFrame((function o(){c()-n>=e?t.call(null):r.id=requestAnimationFrame(o)}))})},g}(e.PureComponent),i.defaultProps={itemData:void 0,layout:"vertical",overscanCount:5},a}var h=function(t,e){t.children,t.height,t.layout,t.width,e.instance},d=function(t,e,n){var r=t.itemSize,o=n.itemMetadataMap,i=n.lastMeasuredIndex;if(e>i){var a=0;if(i>=0){var s=o[i];a=s.offset+s.size}for(var c=i+1;c<=e;c++){var l=r(c);o[c]={offset:a,size:l},a+=l}n.lastMeasuredIndex=e}return o[e]},m=function(t,e,n,r,o){for(;r<=n;){var i=r+Math.floor((n-r)/2),a=d(t,i,e).offset;if(a===o)return i;a<o?r=i+1:a>o&&(n=i-1)}return r>0?r-1:0},p=function(t,e,n,r){for(var o=t.itemCount,i=1;n<o&&d(t,n,e).offset<r;)n+=i,i*=2;return m(t,e,Math.min(n,o-1),Math.floor(n/2),r)},v=function(t,e){var n=t.itemCount,r=e.itemMetadataMap,o=e.estimatedItemSize,i=e.lastMeasuredIndex,a=0;if(i>=n&&(i=n-1),i>=0){var s=r[i];a=s.offset+s.size}return a+(n-i-1)*o},y=f({getItemOffset:function(t,e,n){return d(t,e,n).offset},getItemSize:function(t,e,n){return n.itemMetadataMap[e].size},getEstimatedTotalSize:v,getOffsetForIndexAndAlignment:function(t,e,n,r,o){var i=t.height,a=t.layout,s=t.width,c="horizontal"===a?s:i,l=d(t,e,o),u=v(t,o),f=Math.max(0,Math.min(u-c,l.offset)),h=Math.max(0,l.offset-c+l.size);switch("smart"===n&&(n=r>=h-c&&r<=f+c?"auto":"center"),n){case"start":return f;case"end":return h;case"center":return Math.round(h+(f-h)/2);case"auto":default:return r>=h&&r<=f?r:r<h?h:f}},getStartIndexForOffset:function(t,e,n){return function(t,e,n){var r=e.itemMetadataMap,o=e.lastMeasuredIndex;return(o>0?r[o].offset:0)>=n?m(t,e,o,0,n):p(t,e,Math.max(0,o),n)}(t,n,e)},getStopIndexForStartIndex:function(t,e,n,r){for(var o=t.height,i=t.itemCount,a=t.layout,s=t.width,c="horizontal"===a?s:o,l=d(t,e,r),u=n+c,f=l.offset+l.size,h=e;h<i-1&&f<u;)h++,f+=d(t,h,r).size;return h},initInstanceProps:function(t,e){var n={itemMetadataMap:{},estimatedItemSize:t.estimatedItemSize||50,lastMeasuredIndex:-1};return e.resetAfterIndex=function(t,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,t-1),e._getItemStyleCache(-1),r&&e.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}}),S=f({getItemOffset:function(t,e){return e*t.itemSize},getItemSize:function(t,e){return t.itemSize},getEstimatedTotalSize:function(t){var e=t.itemCount;return t.itemSize*e},getOffsetForIndexAndAlignment:function(t,e,n,r){t.direction;var o=t.height,i=t.itemCount,a=t.itemSize,s=t.layout,c=t.width,l="horizontal"===s?c:o,u=Math.max(0,i*a-l),f=Math.min(u,e*a),h=Math.max(0,e*a-l+a);switch("smart"===n&&(n=r>=h-l&&r<=f+l?"auto":"center"),n){case"start":return f;case"end":return h;case"center":var d=Math.round(h+(f-h)/2);return d<Math.ceil(l/2)?0:d>u+Math.floor(l/2)?u:d;case"auto":default:return r>=h&&r<=f?r:r<h?h:f}},getStartIndexForOffset:function(t,e){var n=t.itemCount,r=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(e/r)))},getStopIndexForStartIndex:function(t,e,n){t.direction;var r=t.height,o=t.itemCount,i=t.itemSize,a=t.layout,s=t.width,c=e*i,l="horizontal"===a?s:r,u=Math.ceil((l+n-c)/i);return Math.max(0,Math.min(o-1,e+u-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});function I(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}function g(t,e){for(var n in t)if(!(n in e))return!0;for(var r in e)if(t[r]!==e[r])return!0;return!1}var x=["style"],_=["style"];function M(t,e){var n=t.style,r=I(t,x),o=e.style,i=I(e,_);return!g(n,o)&&!g(r,i)}t.FixedSizeList=S,t.VariableSizeList=y,t.areEqual=M,t.shouldComponentUpdate=function(t,e){return!M(this.props,t)||g(this.state,e)},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=index-prod.umd.js.map
