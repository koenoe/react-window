!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReactWindow={},e.React)}(this,(function(e,t){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||i(r)&&i(o)))return!1;var r,o;return!0}function s(e,t){var n;void 0===t&&(t=a);var r,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&n===this&&t(a,o)||(r=e.apply(this,a),i=!0,n=this,o=a),r}}function l(e,t){return e(t={exports:{}},t.exports),t.exports}var u=l((function(e,t){var n,r,o,i;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,f=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(t){throw setTimeout(e,0),t}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(f,0))},r=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var h=!1,v=null,_=-1,b=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var I=new MessageChannel,g=I.port2;I.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();y=e+b;try{v(!0,e)?g.postMessage(null):(h=!1,v=null)}catch(e){throw g.postMessage(null),e}}else h=!1},n=function(e){v=e,h||(h=!0,g.postMessage(null))},r=function(e,n){_=d((function(){e(t.unstable_now())}),n)},o=function(){p(_),_=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<M(o,t)))break e;e[r]=t,e[n]=o,n=r}}function S(e){return void 0===(e=e[0])?null:e}function w(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,l=e[s];if(void 0!==a&&0>M(a,n))void 0!==l&&0>M(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==l&&0>M(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function M(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],R=[],P=1,T=null,C=3,k=!1,z=!1,F=!1;function D(e){for(var t=S(R);null!==t;){if(null===t.callback)w(R);else{if(!(t.startTime<=e))break;w(R),t.sortIndex=t.expirationTime,x(O,t)}t=S(R)}}function E(e){if(F=!1,D(e),!z)if(null!==S(O))z=!0,n(q);else{var t=S(R);null!==t&&r(E,t.startTime-e)}}function q(e,n){z=!1,F&&(F=!1,o()),k=!0;var i=C;try{for(D(n),T=S(O);null!==T&&(!(T.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=T.callback;if("function"==typeof a){T.callback=null,C=T.priorityLevel;var s=a(T.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?T.callback=s:T===S(O)&&w(O),D(n)}else w(O);T=S(O)}if(null!==T)var l=!0;else{var u=S(R);null!==u&&r(E,u.startTime-n),l=!1}return l}finally{T=null,C=i,k=!1}}var W=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){z||k||(z=!0,n(q))},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return S(O)},t.unstable_next=function(e){switch(C){case 1:case 2:case 3:var t=3;break;default:t=C}var n=C;C=t;try{return e()}finally{C=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=W,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=C;C=e;try{return t()}finally{C=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:P++,callback:i,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,x(R,e),null===S(O)&&e===S(R)&&(F?o():F=!0,r(E,a-s))):(e.sortIndex=l,x(O,e),z||k||(z=!0,n(q))),e},t.unstable_wrapCallback=function(e){var t=C;return function(){var n=C;C=t;try{return e.apply(this,arguments)}finally{C=n}}}})),c=(u.unstable_now,u.unstable_shouldYield,u.unstable_forceFrameRate,u.unstable_IdlePriority,u.unstable_ImmediatePriority,u.unstable_LowPriority,u.unstable_NormalPriority,u.unstable_Profiling,u.unstable_UserBlockingPriority,u.unstable_cancelCallback,u.unstable_continueExecution,u.unstable_getCurrentPriorityLevel,u.unstable_getFirstCallbackNode,u.unstable_next,u.unstable_pauseExecution,u.unstable_requestPaint,u.unstable_runWithPriority,u.unstable_scheduleCallback,u.unstable_wrapCallback,l((function(e,t){}))),f=(c.unstable_now,c.unstable_shouldYield,c.unstable_forceFrameRate,c.unstable_IdlePriority,c.unstable_ImmediatePriority,c.unstable_LowPriority,c.unstable_NormalPriority,c.unstable_Profiling,c.unstable_UserBlockingPriority,c.unstable_cancelCallback,c.unstable_continueExecution,c.unstable_getCurrentPriorityLevel,c.unstable_getFirstCallbackNode,c.unstable_next,c.unstable_pauseExecution,c.unstable_requestPaint,c.unstable_runWithPriority,c.unstable_scheduleCallback,c.unstable_wrapCallback,l((function(e){e.exports=u}))),d="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function p(e){cancelAnimationFrame(e.id)}function m(e,t){var n=d();var r={id:requestAnimationFrame((function o(){d()-n>=t?e.call(null):r.id=requestAnimationFrame(o)}))};return r}var h=f.unstable_IdlePriority,v=f.unstable_runWithPriority,_={hidden:!0},b=function(e,t){return e};function y(e){var i,a,l=e.getItemOffset,u=(e.getEstimatedTotalSize,e.getItemSize),c=e.getOffsetForIndexAndAlignment,f=e.getStartIndexForOffset,d=e.getStopIndexForStartIndex,y=e.initInstanceProps,g=e.shouldResetStyleCacheOnItemSizeChange,x=e.validateProps;return a=i=function(e){var i,a;function S(t){var n;(n=e.call(this,t)||this)._instanceProps=y(n.props,r(n)),n._outerRef=void 0,n._innerRef=void 0,n._resetIsScrollingTimeoutId=null,n._prerenderOverscanRowsTimeoutID=null,n._callOnItemsRendered=void 0,n._callOnItemsRendered=s((function(e,t){return n.props.onItemsRendered({visibleStartIndex:e,visibleStopIndex:t})})),n._callOnScroll=void 0,n._callOnScroll=s((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,r=n.props,o=r.itemSize,i=r.layout,a=n._getItemStyleCache(g&&o,g&&i);if(a.hasOwnProperty(e))t=a[e];else{var s=l(n.props,e,n._instanceProps),c=u(n.props,e,n._instanceProps),f="horizontal"===i,d=f?"translate3d("+s+"px, 0px, 0px)":"translate3d(0px, "+s+"px, 0px)";a[e]=t={transform:d,height:f?0:c,width:f?c:0,willChange:"transform",transition:"none"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=s((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,o=t.scrollLeft,i=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===o)return null;var t=o;t=Math.max(0,Math.min(t,i-r));var a=n._getRangeToRender(t),s=a[0],l=a[1],u=s>=e.startIndex&&l<=e.stopIndex;return{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1,startIndex:u?e.startIndex:s,stopIndex:u?e.stopIndex:l}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,o=t.scrollHeight,i=t.scrollTop;n.setState((function(e){if(e.scrollOffset===i)return null;var t=Math.max(0,Math.min(i,o-r)),a=n._getRangeToRender(t),s=a[0],l=a[1],u=s>=e.startIndex&&l<=e.stopIndex;return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1,startIndex:u?e.startIndex:s,stopIndex:u?e.stopIndex:l}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._innerRefSetter=function(e){var t=n.props.innerRef;n._innerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._prerenderOverscanRows=function(){n._prerenderOverscanRowsTimeoutID=null,v(h,(function(){n.setState((function(e){var t=n.props,r=t.itemCount,o=t.maxNumPrerenderRows,i=void 0===o?15:o,a=n._getRangeToRender(e.scrollOffset),s=a[0],l=a[1],u=l-s,c=Math.min(u,i),f=Math.max(0,s-c),d=Math.min(r-1,l+c);return e.startIndex===f&&e.stopIndex===d?null:{startIndex:f,stopIndex:d}}))}))},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&p(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=m(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))};var o=t.initialScrollOffset,i="number"==typeof o?o:0,a=n._getRangeToRender(i),c=a[0],f=a[1];return n.state={instance:r(n),isScrolling:!1,scrollDirection:"forward",scrollOffset:i,scrollUpdateWasRequested:"number"==typeof o,startIndex:c,stopIndex:f},n}a=e,(i=S).prototype=Object.create(a.prototype),i.prototype.constructor=i,o(i,a),S.getDerivedStateFromProps=function(e,t){return I(e,t),x(e),null};var w=S.prototype;return w.scrollTo=function(e){var t=this;e=Math.max(0,e),this.setState((function(n){if(n.scrollOffset===e)return null;var r=t._getRangeToRender(e),o=r[0],i=r[1],a=o>=n.startIndex&&i<=n.stopIndex;return{scrollDirection:n.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0,startIndex:a?n.startIndex:o,stopIndex:a?n.stopIndex:i}}),this._resetIsScrollingDebounced)},w.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,r=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(c(this.props,e,t,r,this._instanceProps))},w.componentDidMount=function(){this._commitHook()},w.componentDidUpdate=function(){this._commitHook()},w.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&p(this._resetIsScrollingTimeoutId),null!==this._prerenderOverscanRowsTimeoutID&&p(this._prerenderOverscanRowsTimeoutID)},w.render=function(){var e=this.props,r=e.children,o=e.className,i=e.innerElementType,a=e.itemCount,s=e.itemData,l=e.itemKey,u=void 0===l?b:l,c=e.layout,f=e.outerElementType,d=e.style,p=this.state,m=p.isScrolling,h=p.scrollOffset,v=p.startIndex,y=p.stopIndex,I="horizontal"===c?this._onScrollHorizontal:this._onScrollVertical,g=this._getVisibleIndicesForOffset(h),x=g[0],S=g[1],w=[];if(a>0)for(var M=v;M<=y;M++){var O=M<x||M>S?_:null;w.push(t.createElement(r,{data:s,domProperties:O,key:u(M,s),index:M,isScrolling:m,style:this._getItemStyle(M)}))}return t.createElement(f||"div",{className:o,onScroll:I,ref:this._outerRefSetter,style:n({position:"relative",WebkitOverflowScrolling:"touch",willChange:"transform",contain:"layout"},d)},t.createElement(i||"div",{children:w,ref:this._innerRefSetter,style:{position:"relative",willChange:"transform",contain:"layout",pointerEvents:"none"}}))},w._commitHook=function(){var e=this.props,t=e.layout,n=e.itemCount,r=e.prerenderMode,o=this.state,i=o.scrollOffset;if(o.scrollUpdateWasRequested&&null!=this._innerRef){var a=this._innerRef;a.style.transform="horizontal"===t?"translate3d(-"+i+"px, 0px, 0px)":"translate3d(0px, -"+i+"px, 0px)"}n>0&&this._callPropsCallbacks(),"function"==typeof v&&("idle"===r?this._prerenderOverscanRows():"idle+debounce"===r&&this._prerenderOverscanRowsDebounced())},w._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered){var e=this.props.itemCount,t=this.state.scrollOffset;if(e>0){var n=this._getRangeToRender(t),r=n[0],o=n[1];this._callOnItemsRendered(r,o)}}if("function"==typeof this.props.onScroll){var i=this.state,a=i.scrollDirection,s=i.scrollOffset,l=i.scrollUpdateWasRequested;this._callOnScroll(a,s,l)}},w._getRangeToRender=function(e){var t=this.props.itemCount;if(0===t)return[0,0];var n=f(this.props,e,this._instanceProps),r=d(this.props,n,e,this._instanceProps);return[Math.max(0,n-1),Math.max(0,Math.min(t-1,r+1))]},w._prerenderOverscanRowsDebounced=function(){null!==this._prerenderOverscanRowsTimeoutID&&p(this._prerenderOverscanRowsTimeoutID),this._prerenderOverscanRowsTimeoutID=m(this._prerenderOverscanRows,150)},S}(t.PureComponent),i.defaultProps={itemData:void 0,layout:"vertical"},a}var I=function(e,t){e.children,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},g=function(e,t,n){var r=e.itemSize,o=n.itemMetadataMap,i=n.lastMeasuredIndex;if(t>i){var a=0;if(i>=0){var s=o[i];a=s.offset+s.size}for(var l=i+1;l<=t;l++){var u=r(l);o[l]={offset:a,size:u},a+=u}n.lastMeasuredIndex=t}return o[t]},x=function(e,t,n,r,o){for(;r<=n;){var i=r+Math.floor((n-r)/2),a=g(e,i,t).offset;if(a===o)return i;a<o?r=i+1:a>o&&(n=i-1)}return r>0?r-1:0},S=function(e,t,n,r){for(var o=e.itemCount,i=1;n<o&&g(e,n,t).offset<r;)n+=i,i*=2;return x(e,t,Math.min(n,o-1),Math.floor(n/2),r)},w=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,o=t.estimatedItemSize,i=t.lastMeasuredIndex,a=0;if(i>=n&&(i=n-1),i>=0){var s=r[i];a=s.offset+s.size}return a+(n-i-1)*o},M=y({getItemOffset:function(e,t,n){return g(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:w,getOffsetForIndexAndAlignment:function(e,t,n,r,o){var i=e.height,a=e.layout,s=e.width,l="horizontal"===a?s:i,u=g(e,t,o),c=w(e,o),f=Math.max(0,Math.min(c-l,u.offset)),d=Math.max(0,u.offset-l+u.size);switch("smart"===n&&(n=r>=d-l&&r<=f+l?"auto":"center"),n){case"start":return f;case"end":return d;case"center":return Math.round(d+(f-d)/2);case"auto":default:return r>=d&&r<=f?r:r<d?d:f}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,o=t.lastMeasuredIndex;return(o>0?r[o].offset:0)>=n?x(e,t,o,0,n):S(e,t,Math.max(0,o),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var o=e.height,i=e.itemCount,a=e.layout,s=e.width,l="horizontal"===a?s:o,u=g(e,t,r),c=n+l,f=u.offset+u.size,d=t;d<i-1&&f<c;)d++,f+=g(e,d,r).size;return d},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),O=y({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,n,r){e.direction;var o=e.height,i=e.itemCount,a=e.itemSize,s=e.layout,l=e.width,u="horizontal"===s?l:o,c=Math.max(0,i*a-u),f=Math.min(c,t*a),d=Math.max(0,t*a-u+a);switch("smart"===n&&(n=r>=d-u&&r<=f+u?"auto":"center"),n){case"start":return f;case"end":return d;case"center":var p=Math.round(d+(f-d)/2);return p<Math.ceil(u/2)?0:p>c+Math.floor(u/2)?c:p;case"auto":default:return r>=d&&r<=f?r:r<d?d:f}},getStartIndexForOffset:function(e,t){var n=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,n){e.direction;var r=e.height,o=e.itemCount,i=e.itemSize,a=e.layout,s=e.width,l=t*i,u="horizontal"===a?s:r,c=Math.ceil((u+n-l)/i);return Math.max(0,Math.min(o-1,t+c-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function R(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function P(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}var T=["style"],C=["style"];function k(e,t){var n=e.style,r=R(e,T),o=t.style,i=R(t,C);return!P(n,o)&&!P(r,i)}e.FixedSizeList=O,e.VariableSizeList=M,e.areEqual=k,e.shouldComponentUpdate=function(e,t){return!k(this.props,e)||P(this.state,t)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index-prod.umd.js.map
